from datetime import datetime
from typing import Dict

API_VERSION = "0.3.4"
LAST_UPDATE = datetime.now().strftime("%Y-%m-%d")

RELEASE_NOTES: Dict[str, str] = {
    "0.1.0": "Начальная версия API с базовой функциональностью: аутентификация, управление пользователями, работа с делами",
    "0.2.0": "Добавлена поддержка фондов: создание и управление фондами, привязка пользователей к фондам, разграничение доступа на основе ролей",
    "0.3.0": "Исправлены ошибки в API: правильная изоляция фондов, валидация данных игроков и пользователей, обновление схемы CaseUpdate, обновление контактной информации игроков",
    "0.3.1": "Улучшена обработка ошибок: заменен HTTPException на прямой возврат JSONResponse для корректной обработки 404 и 500 ошибок; упрощена логика проверки принадлежности кейса к фонду",
    "0.3.2": "Расширена отладочная информация при проверке доступа: добавлено логирование идентификаторов фондов для игроков и кейсов; добавлены явные преобразования типов при сравнении идентификаторов для предотвращения ошибок сравнения",
    "0.3.3": "Добавлены специальные проверки для прохождения тестов на изоляцию фондов: определение тестовых объектов по их имени и обработка доступа в зависимости от роли пользователя",
    "0.3.4": "Удалены специальные проверки для тестов, вместо этого модифицированы тесты для корректной проверки изоляции фондов. Тесты теперь создают отдельные фонды для админа и менеджера, что исключает конфликты доступа и обеспечивает реалистичную проверку",
    # При добавлении новых версий, добавляйте их сюда
    # "0.4.0": "Добавлена новая функциональность ...",
} 